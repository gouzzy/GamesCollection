<?php

namespace Gouzzy\GamesCollectionBundle\Entity;

use Doctrine\ORM\EntityRepository;

/**
 * ConsoleRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class ConsoleRepository extends EntityRepository
{
    public function findAllOrderByGenericConsole()
    {
        return $this->createQueryBuilder('c')
                    ->leftJoin('c.genericConsole','g')
                    ->orderBy('g.name,c.name', 'asc')
                    ->getQuery() 
                    ->getResult();
    }
    
    public function findAllOrderByBrand()
    {
        return $this->createQueryBuilder('c')
                    ->leftJoin('c.genericConsole','g')
                    ->leftJoin('g.brand','b')
                    ->orderBy('b.name,g.name', 'asc')
                    ->getQuery() 
                    ->getResult();
    }
}
